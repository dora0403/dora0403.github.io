<!--
 * @Author: your name
 * @Date: 2021-07-25 15:08:49
 * @LastEditTime: 2021-08-15 22:10:19
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \dora0403.github.io\專題切版-test\sidebar.html
-->
<div id="sidebarContent">
<div class="sidenav">
  
  <div class="logoBox">
    <a href="#"><img src="img/logo.jpg" alt=""></a>
    <div class="sidebar-btn">
      <a href="#" class="loginBtn d-grid"><span class="m-auto">登入</span> </a>
      <a href="#" class="signUpBtn d-grid"><span class="m-auto">註冊</span></a>
    </div>
  </div>

  <!-- 登入後秀出名字 -->
  <div class="profileBox">
    <div class="profileImg d-grid">
      <img class="m-auto" src="https://www.upmedia.mg/upload/article/20210801172246069922.jpg" alt="">
    </div>
    <div class="profileWelcome">
      <span>Hello</span><p class="profile-name">庭安</p>
    </div>
    </div>
    
  
  

  <div class="linkBox">
    <div class="sidebar-member-link">
    <a href="#" class="dropdown-btn"> 會員中心 <i class="fas fa-caret-down"></i></a>
    <div class="dropdown-container">
      <a href="#">通知</a>
      <a href="#">我的訂單</a>
      <a href="#">會員資料/修改</a>
      <a href="#" class="signOutBtn">登出</a>
    </div>
  </div>
    <a href="#" class="dropdown-btn"> 商品總覽 <i class="fas fa-caret-down"></i></a>
    <div class="dropdown-container">
      <a href="#">所有種類</a>
      <a href="#">想租車車</a>
      <a href="#">想租配件</a>
      <a href="#">想租女友</a>
      <a href="#">想租狗狗</a>
      <a href="#">想租車車</a>
    </div>
    <a href="#" class="dropdown-btn"> 想租看這 <i class="fas fa-caret-down"></i></a>
    <div class="dropdown-container">
      <a href="#">如何租借</a>
    </div>
    <a href="#" class="dropdown-btn"> 關於我們 <i class="fas fa-caret-down"></i></a>
    <div class="dropdown-container">
      <a href="#">我們的故事</a>
      <a href="#">回饋計畫</a>
      <a href="#">聯繫我們</a>
    </div>
    <a href="#" class="dropdown-btn"> 共享好文 <i class="fas fa-caret-down"></i></a>
    <div class="dropdown-container">
      <a href="#">共享經濟</a>
      <a href="#">上新聞了</a>
      <a href="#">網紅推薦</a>
    </div>
  </div>
  <hr>
  
  <p class="text-center mt-3">download the free<br>mobile app</p>
  <div class="appDownload d-flex justify-content-center">
    <img src="img/googlePlay_white.jpg" style="height: 30px;" class="mx-1" alt="">
    <img src="img/appleStore_white.jpg" style="height: 30px;" class="mx-1" alt="">
  </div>

  <div class="social-media d-flex mt-4 justify-content-center">
    <a href="#" class="my-auto mx-2"><i class="fa fa-facebook"></i></a>
    <a href="#" class="my-auto mx-2"><i class="fa fa-twitter"></i></a>
    <a href="#" class="my-auto mx-2"><i class="fab fa-instagram"></i></a>
  </div>
</div>
</div>
<script>
  // Sidenav裡的下拉選單
  let dropdownBtns = document.querySelectorAll(".dropdown-btn");
  dropdownBtns.forEach(btn => {
    btn.addEventListener("click", function () {
      this.classList.toggle("active");
      let dropdownContent = this.nextElementSibling;

      if (dropdownContent.style.display === "block") {
        dropdownContent.style.display = "none";
      }
      else {
        dropdownContent.style.display = "block";
      }
    })
  });

  // 漢堡點開秀sidebar 按其他地方後sidebar會收回
$(document).ready(function() {

  $(document).on('click',function (e) {

      if (e.target.classList.contains("hb") && !($(".sidenav").hasClass("show"))) {
      e.preventDefault(); //加到這
        $(".sidenav").addClass("show");
        $(".overlayMobile").addClass("active");
        $(".hb").addClass("hb_open");
      }
      else if ($(".sidenav").hasClass("show") && ($("#sidebarContent").find(e.target).length == 0 || e.target.classList.contains("hb"))) {
        e.preventDefault(); //加到這
        $(".sidenav").removeClass("show");
        $(".overlayMobile").removeClass("active");
        $(".hb").removeClass("hb_open");
      }
    })
});
//--------------------------------
// 登入後的樣式 (先用按下桌機跟手機的登入鈕假裝已經登入) 之後改成判斷登入
document.querySelector(".sidebar-btn .loginBtn").addEventListener("click",function(){
    changeHeaderCSS_login()
    changeSidebarCSS_login()
})

function changeSidebarCSS_login(){
   document.querySelector('.sidebar-btn').style.display='none';
   document.querySelector('.logoBox').style.display='none';
   document.querySelector('#sidebarContent .profileBox').style.display='flex';
   document.querySelector('.sidebar-member-link').style.display='block';

}
//登出後恢復原狀
document.querySelector(".sidebar-member-link .signOutBtn").addEventListener("click",function(){
backHeaderCSS_signOut();
backSidebarCSS_signOut()
} )

function backSidebarCSS_signOut(){
  document.querySelector('.sidebar-btn').style.display='flex';
  document.querySelector('.logoBox').style.display='flex';
  document.querySelector('#sidebarContent .profileBox').style.display='none';
  document.querySelector('.sidebar-member-link').style.display='none';
  
}

</script>